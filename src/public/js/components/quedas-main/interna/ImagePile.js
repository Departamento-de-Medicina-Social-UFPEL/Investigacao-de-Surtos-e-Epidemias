// Generated by CoffeeScript 2.7.0
define([], function() {
  var PilhaImagensChild;
  return PilhaImagensChild = (function() {
    class PilhaImagensChild extends Marionette.ItemView {
      template(a) {
        return _.template("", a);
      }

      className() {
        return 'imagem-orienta ' + this.model.get('url');
      }

      onRender(view) {
        var ori, popPos, pos, ref, scale;
        if (view.model.get('el')) {
          this.$el.hide();
          return null;
        }
        pos = view.model.get('pos');
        scale = view.model.get('scale');
        ori = view.model.get('ori');
        popPos = `${(ref = view.model.get('popPos')) != null ? ref : 'auto right'}`;
        this.$el.attr({
          src: view.model.get('src'),
          certo: view.model.get('certo'),
          ori: ori.nome,
          tabindex: 2
        });
        this.$el.css({
          top: pos[1] + '%',
          left: pos[0] + '%',
          width: scale + '%'
        });
        return this.addPopOver(this.el, ori, popPos);
      }

      addPopOver(el, ori, popPos) {
        $(el).popover({
          animation: true,
          content: ori.orientacao,
          title: ori.titulo,
          trigger: 'maunal focus',
          container: 'body',
          html: true,
          delay: {
            show: 300,
            hide: 100
          },
          placement: popPos
        });
        $(el).on('shown.bs.popover', function() {
          return window.openPop = $(this);
        });
        return $(el).on('hidden.bs.popover', function() {
          return window.openPop = null;
        });
      }

    };

    PilhaImagensChild.prototype.tagName = 'img';

    return PilhaImagensChild;

  }).call(this);
});
