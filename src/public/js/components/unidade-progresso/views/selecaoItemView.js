// Generated by CoffeeScript 2.7.0
define(['marionette'], function(Marionette) {
  var ItemListaCaso;
  return ItemListaCaso = (function() {
    class ItemListaCaso extends Marionette.ItemView {
      initialize() {
        var rs;
        if (App.user) {
          rs = App.progresso.where({
            'atividade': this.model.get('_id')
          }).map(function(i) {
            return i.attributes;
          });
          this.model.set({
            'respostas': rs || []
          });
          if (this.model.get('bloqueado')) {
            return this.$el.css({
              'opacity': '0.3',
              'pointer-events': 'none'
            });
          } else {
            return this.model.set('bloqueado', false);
          }
        }
      }

      gotoCaso() {
        var id, openItemsIn;
        console.log('goto', this.model);
        openItemsIn = this.model.get('tipo') === 'saibamais' ? 'saiba-mais' : 'caso-progresso';
        id = this.model.get('_id');
        return Backbone.history.navigate(`#comp/${openItemsIn}/${id}`, {
          trigger: true
        });
      }

      onRender() {}

    };

    ItemListaCaso.prototype.template = '#unidade-progresso-itemView';

    ItemListaCaso.prototype.className = 'col-md-6';

    ItemListaCaso.prototype.events = {
      'click': 'gotoCaso'
    };

    return ItemListaCaso;

  }).call(this);
});
