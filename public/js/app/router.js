// Generated by CoffeeScript 2.7.0
define(['backbone.marionette'], function(Marionette) {
  var AppRouter;
  AppRouter = (function() {
    class AppRouter extends Marionette.AppRouter {
      initialize(options) {
        this.on("all", this.storeRoute);
        return this.historico = [];
      }

      onRoute() {
        $(window).scrollTop(0);
        if (window.ga) {
          return window.ga('send', 'pageview');
        }
      }

      // if App.modals
      // App.modals.destroy if App.modals.currentView
      storeRoute() {
        var frag, last;
        frag = Backbone.history.fragment;
        last = this.historico.slice(-1)[0];
        // console.log 'storeRoute', last
        $(".historyBarItem>a").parent().css({
          background: "inherit"
        });
        $(".historyBarItem>a[href='#" + last + "']").parent().css({
          background: "rgba(255, 255, 255, 0.7)"
        });
        if (frag !== last) {
          return this.historico.push(frag);
        }
      }

      previous() {
        var dest, pos;
        pos = this.historico.length - 2;
        dest = this.historico[pos];
        console.log(dest, this.historico);
        if (this.historico.length > 1) {
          return this.navigate(dest, true);
        }
      }

    };

    AppRouter.prototype.appRoutes = {
      '': 'listaComponentesDoModelo',
      'comp/:name': 'mostraComponente'
    };

    return AppRouter;

  }).call(this);
  return AppRouter;
});
