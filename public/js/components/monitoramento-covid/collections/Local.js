// Generated by CoffeeScript 2.7.0
define(['../models/Monitoramento'], function(Monitoramento) {
  var Monitoramentos;
  return Monitoramentos = (function() {
    class Monitoramentos extends Backbone.Collection {
      ['initialize'](options) {}

      //   @bind 'add', @onModelAdded, @
      //   @bind 'remove', @onModelRemoved, @
      //   @bind 'change reset', @onChange, @
      //   @bind 'reset', @onReset, @
      //   null
      // onModelAdded:()->
      // onModelRemoved:()->
      // onChange:()->
      // onReset:()->
      ['create'](resposta) {
        this.add(resposta);
        return this.saveLocal();
      }

      //@saveServer res
      saveLocal() {
        var local, user;
        if (!App.local) {
          return;
        }
        ({local, user} = App);
        if (this.length > 0) {
          console.log(this, 'tyhis');
          return local.set(`monitoramento-${user.cpf}`, this.toJSON());
        } else {
          throw new Error();
        }
      }

      saveServer(res) {
        if (!App.socket) {
          return;
        }
        return App.socket.emit("monitorou", res.toJSON(), function(data) {
          return console.log(data);
        });
      }

    };

    Monitoramentos.prototype['model'] = Monitoramento;

    Monitoramentos.prototype['url'] = '';

    Monitoramentos.prototype.idAttribute = "id";

    return Monitoramentos;

  }).call(this);
});
