// Generated by CoffeeScript 2.7.0
define(['backbone.modal'], function(ModalView) {
  var Modal;
  return Modal = (function() {
    class Modal extends Backbone.Modal {
      initialize(user) {
        this.user = user;
      }

      beforeSubmit(ev) {
        App.modals.destroyAll();
        Backbone.history.navigate('#comp/progresso', {
          trigger: true
        });
        return false;
      }

      onRender() {
        var b;
        b = $('body');
        if (this.user) {
          this.fillForm();
        }
        if (!b.is(':visible')) {
          b.fadeIn();
        }
        return setTimeout((function() {
          return window.$.material.init();
        }), 10);
      }

      onDestroy() {
        $('body').removeAttr('style').css({
          display: 'block'
        });
        $('body').css({
          'overflow': 'auto'
        });
        if (App.main.currentView) {
          // return do window.history.back if App.main.currentView
          return App.appRouter.previous();
        }
        return App.appRouter.navigate('/', {
          'trigger': true
        });
      }

    };

    Modal.prototype.template = _.template($('#home-elegivel-certificacao').html());

    Modal.prototype.submitEl = '.submit-form';

    Modal.prototype.cancelEl = '.close-modal';

    return Modal;

  }).call(this);
});
