// Generated by CoffeeScript 2.7.0
// Generated by CoffeeScript 1.10.0
var extend, hasProp;

extend = function(child, parent) {
  var ctor, key;
  ctor = function() {
    this.constructor = child;
  };
  for (key in parent) {
    if (hasProp.call(parent, key)) {
      child[key] = parent[key];
    }
  }
  ctor.prototype = parent.prototype;
  child.prototype = new ctor();
  child.__super__ = parent.prototype;
  return child;
};

hasProp = {}.hasOwnProperty;

define(['backbone', 'backbone.marionette', 'jknob'], function(Backbone, Marionette) {
  var CtabMainView;
  CtabMainView = void 0;
  CtabMainView = (function(superClass) {
    var CtabMainView;
    CtabMainView = function() {
      return CtabMainView.__super__.constructor.apply(this, arguments);
    };
    extend(CtabMainView, superClass);
    CtabMainView.prototype.model = new (Backbone.Model)();
    CtabMainView.prototype.className = 'item calculadoras ctab';
    CtabMainView.prototype.template = '#calc-ctab-main-view';
    CtabMainView.prototype.ui = {
      'resposta': '.condutaBox',
      'escoreBox': '.escoreBox',
      'condutaBox': '.condutaBox',
      'cigadia': '#cigadia',
      'anostab': '#anostab',
      'resultado': '.resultado'
    };
    CtabMainView.prototype.events = {
      'keyup @ui.anostab': 'changeDados',
      'keyup @ui.cigadia': 'changeDados'
    };
    CtabMainView.prototype.changeDados = function() {
      var anostab, cigadia, dados, resultado;
      cigadia = void 0;
      anostab = void 0;
      resultado = void 0;
      dados = this.getDados();
      console.log('x');
      resultado = parseInt(dados.cigadia / 20 * dados.anostab);
      if (resultado > 0) {
        this.ui.resultado.text(resultado + ' anos-maÃ§os');
      }
      this.ui.escoreBox.fadeIn();
      return this.ui.resposta.show();
    };
    CtabMainView.prototype.getDados = function() {
      var anostab, cigadia, r;
      r = void 0;
      cigadia = void 0;
      anostab = void 0;
      cigadia = 0;
      anostab = 0;
      if (this.ui.anostab.prop('value') > 0) {
        anostab = this.ui.anostab.prop('value');
      }
      if (this.ui.cigadia.prop('value') > 0) {
        cigadia = this.ui.cigadia.prop('value');
      }
      r = {
        cigadia: cigadia,
        anostab: anostab
      };
      return r;
    };
    CtabMainView.prototype.onRender = function(view) {
      this.ui.escoreBox.hide();
      return this.ui.condutaBox.hide();
    };
    return CtabMainView;
  })(Marionette.ItemView);
  return CtabMainView;
});

// ---
// generated by js2coffee 2.2.0
