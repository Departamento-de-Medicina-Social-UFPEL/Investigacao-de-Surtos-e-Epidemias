// Generated by CoffeeScript 2.7.0
define(['backbone', 'backbone.marionette'], function(Backbone, Marionette) {
  var TestesView;
  TestesView = (function() {
    class TestesView extends Marionette.ItemView {
      gotoHome() {
        if (!App.user) {
          return Backbone.history.navigate('#comp/home', {
            trigger: true
          });
        }
      }

      gotoCasos() {
        this.gotoHome();
        return Backbone.history.navigate('#comp/selecao-progresso', {
          trigger: true
        });
      }

      gotoCalculadoras() {
        return Backbone.history.navigate('#comp/calculadoras', {
          trigger: true
        });
      }

      gotoMaterial() {
        return Backbone.history.navigate('#comp/materiais', {
          trigger: true
        });
      }

      gotoTestes() {
        this.gotoHome();
        return Backbone.history.navigate('#comp/listatestes', {
          trigger: true
        });
      }

      gotoInicialInterdisciplinar() {
        var _id, inicialDaPro;
        this.gotoHome();
        inicialDaPro = App.testes.filter(function(d) {
          return /inicial/img.test(d.get('titulo'));
        })[0];
        if (!inicialDaPro) {
          Backbone.history.navigate("comp/listatestes", {
            trigger: true
          });
        }
        _id = inicialDaPro.get('_id');
        return Backbone.history.navigate(`comp/teste-progresso/${_id}`, {
          trigger: true
        });
      }

      gotoInicialUnidade(e) {
        var _id, inicialDaPro, u;
        u = $(e.target).data('unidade');
        this.gotoHome();
        inicialDaPro = (App.testes.filter(function(d) {
          return /inicial/img.test(d.get('titulo')) && d.get('unidade') === u;
        }))[0];
        if (!inicialDaPro) {
          Backbone.history.navigate("comp/listatestes", {
            trigger: true
          });
        }
        _id = inicialDaPro.get('_id');
        return Backbone.history.navigate(`comp/teste-progresso/${_id}`, {
          trigger: true
        });
      }

      gotoInicialEnfermagem() {
        var _id, inicialDaPro, proMap, uPro;
        this.gotoHome();
        proMap = {
          '1': 1,
          '2': 0,
          '3': 2
        };
        uPro = proMap['1'];
        inicialDaPro = App.testes.filter(function(d) {
          return /inicial/img.test(d.get('titulo')) && d.get('pro')[uPro];
        })[0];
        if (!inicialDaPro) {
          Backbone.history.navigate("comp/listatestes", {
            trigger: true
          });
        }
        _id = inicialDaPro.get('_id');
        return Backbone.history.navigate(`comp/teste-progresso/${_id}`, {
          trigger: true
        });
      }

      gotoInicialMedicina() {
        var _id, inicialDaPro, proMap, uPro;
        this.gotoHome();
        proMap = {
          '1': 1,
          '2': 0,
          '3': 2
        };
        uPro = proMap['2'];
        inicialDaPro = App.testes.filter(function(d) {
          return /inicial/img.test(d.get('titulo')) && d.get('pro')[uPro];
        })[0];
        if (!inicialDaPro) {
          Backbone.history.navigate("comp/listatestes", {
            trigger: true
          });
        }
        _id = inicialDaPro.get('_id');
        return Backbone.history.navigate(`comp/teste-progresso/${_id}`, {
          trigger: true
        });
      }

      gotoInicialOdontologia() {
        var _id, inicialDaPro, proMap, uPro;
        this.gotoHome();
        proMap = {
          '1': 1,
          '2': 0,
          '3': 2
        };
        uPro = proMap['3'];
        inicialDaPro = App.testes.filter(function(d) {
          return /inicial/img.test(d.get('titulo')) && d.get('pro')[uPro];
        })[0];
        if (!inicialDaPro) {
          Backbone.history.navigate("comp/listatestes", {
            trigger: true
          });
        }
        _id = inicialDaPro.get('_id');
        return Backbone.history.navigate(`comp/teste-progresso/${_id}`, {
          trigger: true
        });
      }

      gotoFinalInterdisciplinar() {
        var _id, finalDaPro;
        this.gotoHome();
        if (App.masterFinalLockInterdisciplinar()) {
          return Backbone.history.navigate("comp/home/teste-bloqueado", {
            trigger: true
          });
        }
        finalDaPro = App.testes.filter(function(d) {
          return /final/img.test(d.get('titulo'));
        })[0];
        _id = finalDaPro.get('_id');
        return Backbone.history.navigate(`comp/teste-progresso/${_id}`, {
          trigger: true
        });
      }

      gotoFinalEnfermagem() {
        var _id, finalDaPro, proMap, uPro;
        this.gotoHome();
        proMap = {
          '1': 1,
          '2': 0,
          '3': 2,
          '0': 9
        };
        uPro = proMap['1'];
        console.log(uPro === 9, App.masterFinalLockEnfermagem(), 'teste');
        if (App.masterFinalLockEnfermagem()) {
          return Backbone.history.navigate("comp/home/teste-bloqueado", {
            trigger: true
          });
        }
        finalDaPro = App.testes.filter(function(d) {
          return /final/img.test(d.get('titulo')) && d.get('pro')[uPro];
        })[0];
        _id = finalDaPro.get('_id');
        return Backbone.history.navigate(`comp/teste-progresso/${_id}`, {
          trigger: true
        });
      }

      gotoFinalUnidade(e) {
        var _id, inicialDaPro, u;
        u = $(e.target).data('unidade');
        this.gotoHome();
        inicialDaPro = (App.testes.filter(function(d) {
          return /final/img.test(d.get('titulo')) && d.get('unidade') === u;
        }))[0];
        console.log('inicialPro', inicialDaPro, u);
        if (!inicialDaPro) {
          Backbone.history.navigate("comp/listatestes", {
            trigger: true
          });
        }
        _id = inicialDaPro.get('_id');
        return Backbone.history.navigate(`comp/teste-progresso/${_id}`, {
          trigger: true
        });
      }

      gotoFinalMedicina() {
        var _id, finalDaPro, proMap, uPro;
        this.gotoHome();
        proMap = {
          '1': 1,
          '2': 0,
          '3': 2,
          '0': 9
        };
        uPro = proMap['2'];
        if (App.masterFinalLockMedicina()) {
          return Backbone.history.navigate("comp/home/teste-bloqueado", {
            trigger: true
          });
        }
        finalDaPro = App.testes.filter(function(d) {
          return /final/img.test(d.get('titulo')) && d.get('pro')[uPro];
        })[0];
        _id = finalDaPro.get('_id');
        return Backbone.history.navigate(`comp/teste-progresso/${_id}`, {
          trigger: true
        });
      }

      gotoFinalOdontologia() {
        var _id, finalDaPro, proMap, uPro;
        this.gotoHome();
        proMap = {
          '1': 1,
          '2': 0,
          '3': 2,
          '0': 9
        };
        uPro = proMap['3'];
        if (App.masterFinalLockOdontologia()) {
          return Backbone.history.navigate("comp/home/teste-bloqueado", {
            trigger: true
          });
        }
        finalDaPro = App.testes.filter(function(d) {
          return /final/img.test(d.get('titulo')) && d.get('pro')[uPro];
        })[0];
        _id = finalDaPro.get('_id');
        return Backbone.history.navigate(`comp/teste-progresso/${_id}`, {
          trigger: true
        });
      }

      onRender() {}

    };

    TestesView.prototype.model = new Backbone.Model();

    TestesView.prototype.className = 'testes enf-med-main container';

    TestesView.prototype.template = '#listatestes-main';

    TestesView.prototype.events = {
      'click .gotoTestes': 'gotoTestes',
      'click .gotoFinalUnidade': 'gotoFinalUnidade',
      'click .gotoInicialUnidade': 'gotoInicialUnidade',
      'click .gotoInicialEnfermagem': 'gotoInicialEnfermagem',
      'click .gotoFinalEnfermagem': 'gotoFinalEnfermagem',
      'click .gotoInicialInterdisciplinar': 'gotoInicialInterdisciplinar',
      'click .gotoInicialMedicina': 'gotoInicialMedicina',
      'click .gotoFinalMedicina': 'gotoFinalMedicina',
      'click .gotoInicialOdontologia': 'gotoInicialOdontologia',
      'click .gotoFinalOdontologia': 'gotoFinalOdontologia',
      'click .gotoFinalInterdisciplinar': 'gotoFinalInterdisciplinar',
      'click .emitir-certificado': 'emitirCertificado'
    };

    return TestesView;

  }).call(this);
  return TestesView;
});
