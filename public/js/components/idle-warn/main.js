// Generated by CoffeeScript 1.8.0
define([], function() {
  return function(component, parentApp, Backbone, Marionette, $, _) {
    var IDLE_TIMEOUT, _checkIdleTime, _idleSecondsCounter, _observe, _observerReference, _zeroCounter;
    IDLE_TIMEOUT = 60;
    _idleSecondsCounter = 0;
    _observerReference = null;
    _checkIdleTime = function() {
      var el;
      _idleSecondsCounter++;
      if (_idleSecondsCounter >= IDLE_TIMEOUT) {
        console.log('Estou away!');
        if (App.userMenu.currentView) {
          el = $('.drop-label');
          if (!(el.find('.inativo-tag').length > 0)) {
            el.find('.main-net-stats-ico').before('<small class="inativo-tag"> (Inativo) </small>');
          }
        }
        return _observerReference = window.clearInterval(_observerReference);
      }
    };
    _zeroCounter = function() {
      _idleSecondsCounter = 0;
      if (!_observerReference) {
        _observe();
      }
      if (App.userMenu.currentView) {
        return $('.drop-label .inativo-tag').remove();
      }
    };
    _observe = function(now) {
      if (now == null) {
        now = false;
      }
      if (now) {
        _checkIdleTime();
      }
      return _observerReference = window.setInterval(_checkIdleTime, 1000);
    };
    document.onclick = document.onmousemove = document.onkeypress = _.throttle(_zeroCounter, 700);
    return _observe(true);
  };
});
