// Generated by CoffeeScript 2.7.0
define(['backbone.marionette'], function(Marionette) {
  var ListaEnquetesView;
  ListaEnquetesView = (function() {
    class ListaEnquetesView extends Marionette.ItemView {
      initialize(user) {
        var enquetes, self;
        this.user = user;
        console.log('lista view');
        self = this;
        this.model = new Backbone.Model({
          elegivel: false,
          cadastro: false,
          conclusao: false,
          encerramento: false,
          encerradas: false
        });
        if (App.enquetes) {
          enquetes = App.user.enquetes[App.moduloId];
          console.log('enquetes', enquetes);
          if (enquetes) {
            if (enquetes.cadastro) {
              this.model.set('cadastro', true);
            }
            if (enquetes.conclusao) {
              this.model.set('conclusao', true);
            }
            if (enquetes.encerramento) {
              this.model.set('encerramento', true);
            }
            // console.log('model enquetes', @model.attributes)
            return modulo.ofertasAbertas.forEach(function(o) {
              var nc;
              if (!self.model.elegivel) {
                nc = o.conteudo.substring(0, 1).toUpperCase() + o.conteudo.substring(1);
                console.log(nc, 'nc');
                return self.model.elegivel = App["masterElegivelCert" + nc]();
              }
            });
          }
        }
      }

      onRender() {
        var self;
        self = this;
        //console.log('enquetes', App.enquetes, App.user.enquetes[App.moduloId], @model.attributes)
        return console.log(this.model, 'modelo');
      }

    };

    ListaEnquetesView.prototype.template = _.template($('#enquetes-template').html());

    ListaEnquetesView.prototype.cancelEl = '.close-modal';

    ListaEnquetesView.prototype.className = 'container  enf-med-main ';

    return ListaEnquetesView;

  }).call(this);
  return ListaEnquetesView;
});
