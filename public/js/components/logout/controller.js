// Generated by CoffeeScript 2.7.0
define(['./views/salvando', './views/error', 'backbone'], function(SalvandoView, ErrorView, Backbone) {
  return {
    "sair": function() {
      App.modals.destroyAll();
      if (App.modals.currentView) {
        App.modals.destroyAll();
      }
      if (!App.user) {
        window.location.hash = '';
      }
      // console.log 'hash', window.location.hash, 'user', App.user, 'logout', App.socket.connected
      return App.modals.show(new SalvandoView());
    },
    "error": function() {
      var msg;
      App.modals.destroyAll();
      if (App.modals.currentView) {
        App.modals.destroyAll();
      }
      if (!App.user) {
        window.location.hash = '';
      }
      // console.log 'hash', window.location.hash, 'user', App.user, 'logout', App.socket.connected
      msg = "Não foi possível salvar o seu progresso, verifique sua conexão e tente novamente!";
      return App.modals.show(new ErrorView({
        msg: msg
      }));
    }
  };
});
